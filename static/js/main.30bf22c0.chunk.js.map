{"version":3,"sources":["components/imageGalleryItem/ImageGalleryItem.module.css","components/modal/Modal.module.css","components/button/Button.module.css","components/imageGallery/ImageGallery.module.css","components/button/Button.js","components/imageGalleryItem/ImageGalleryItem.js","components/imageGallery/ImageGallery.js","components/modal/Modal.js","components/searchbar/Searchbar.js","services/searchAPI.js","App.js","index.js","components/searchbar/Searchbar.module.css"],"names":["module","exports","Button","loadMoreBtn","type","className","s","button","onClick","ImageGalleryItem","imageItem","onItemClick","galleryItem","src","webformatURL","alt","tags","imageGalleryItem","ImageGallery","images","showModal","image","imageGallery","map","id","modalRoot","document","getElementById","Modal","handleOverlayClick","event","target","currentTarget","props","closeModal","handleEscPressed","key","window","addEventListener","this","removeEventListener","createPortal","overlay","modal","children","Component","Searchbar","onSubmit","searchbar","form","preventDefault","value","query","formBtn","Provider","searchIcon","formInput","autoComplete","autoFocus","placeholder","name","SearchAPI","imageType","orientation","safesearch","searchQuery","a","fetch","response","json","data","searchService","App","state","pageQuery","imagesQuery","modalImage","loading","handleImages","toast","warn","setState","fetchImages","fetchSearch","then","hits","length","error","prevState","catch","code","finally","loadMore","_","resetPage","color","height","width","style","textAlign","largeImageURL","position","autoClose","React","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.30bf22c0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryItem\":\"ImageGalleryItem_galleryItem__BPw5r\",\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__2Fs4f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1VUpz\",\"modal\":\"Modal_modal__25-Y7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__5CS-w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__NKJJB\"};","import s from './Button.module.css';\nimport PropTypes from 'prop-types';\n\nconst Button = ({ loadMoreBtn }) => {\n  return (\n    <button type=\"button\" className={s.button} onClick={loadMoreBtn}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  loadMoreBtn: PropTypes.func,\n};\n\nexport default Button;\n","import s from './ImageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ imageItem, onItemClick }) => {\n  const onImageClick = () => {\n    onItemClick(imageItem);\n  };\n\n  return (\n    <li className={s.galleryItem} onClick={onImageClick}>\n      <img\n        src={imageItem.webformatURL}\n        alt={imageItem.tags}\n        className={s.imageGalleryItem}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string,\n  tags: PropTypes.string,\n  onItemClick: PropTypes.func,\n};\n\nexport default ImageGalleryItem;\n","import ImageGalleryItem from '../imageGalleryItem/ImageGalleryItem';\nimport s from './ImageGallery.module.css';\nimport PropTypes from 'prop-types';\n\nconst ImageGallery = ({ images, showModal }) => {\n  const onItemClick = image => {\n    showModal(image);\n  };\n\n  return (\n    <ul className={s.imageGallery}>\n      {images.map(image => (\n        <ImageGalleryItem\n          key={image.id}\n          imageItem={image}\n          onItemClick={onItemClick}\n        />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.array,\n  showModal: PropTypes.func,\n};\n\nexport default ImageGallery;\n","import React, { Component } from 'react';\nimport s from './Modal.module.css';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nconst modalRoot = document.getElementById('modal-root');\n\nexport default class Modal extends Component {\n  handleOverlayClick = event => {\n    const { target, currentTarget } = event;\n    if (target === currentTarget) {\n      this.props.closeModal();\n    }\n  };\n\n  handleEscPressed = event => {\n    if (event.key === 'Escape') {\n      this.props.closeModal();\n    }\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleEscPressed);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleEscPressed);\n  }\n\n  render() {\n    return createPortal(\n      <div className={s.overlay} onClick={this.handleOverlayClick}>\n        <div className={s.modal}>{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  closeModal: PropTypes.func,\n  children: PropTypes.node,\n};\n","import s from './Searchbar.module.css';\nimport PropTypes from 'prop-types';\n\nimport { FaSearch } from 'react-icons/fa';\nimport { IconContext } from 'react-icons';\n\nconst Searchbar = ({ onSubmit }) => {\n  const handleSubmit = event => {\n    event.preventDefault();\n    const { value } = event.target.query;\n    onSubmit(value);\n  };\n\n  return (\n    <header className={s.searchbar}>\n      <form className={s.form} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={s.formBtn}>\n          <IconContext.Provider value={{ className: `${s.searchIcon}` }}>\n            <FaSearch />\n          </IconContext.Provider>\n        </button>\n\n        <input\n          className={s.formInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          name=\"query\"\n        />\n      </form>\n    </header>\n  );\n};\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func,\n};\n\nexport default Searchbar;\n","class SearchAPI {\n  #baseUrl = 'https://pixabay.com/api/';\n  #privatKey = '24000530-001c810234599b9b4d7fbf89c';\n  #options = {\n    imageType: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  };\n  #page = 1;\n  #perPage = 12;\n\n  constructor() {\n    this.searchQuery = '';\n  }\n\n  async fetchSearch() {\n    const response = await fetch(\n      `${this.#baseUrl}?key=${this.#privatKey}&q=${\n        this.searchQuery\n      }&image_type=${this.#options.imageType}&orientation=${\n        this.#options.orientation\n      }&safesearch=${this.#options.safesearch}&page=${this.#page}&per_page=${\n        this.#perPage\n      }`,\n    );\n\n    const data = await response.json();\n    this.#page += 1;\n\n    return data;\n  }\n\n  resetPage() {\n    this.#page = 1;\n  }\n}\n\nconst searchService = new SearchAPI();\n\nexport { searchService };\n","import React from 'react';\nimport './App.css';\n\nimport Loader from 'react-loader-spinner';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport Button from './components/button/Button';\nimport ImageGallery from './components/imageGallery/ImageGallery';\nimport Modal from './components/modal/Modal';\nimport Searchbar from './components/searchbar/Searchbar';\n// import initData from './data/Data.json';\nimport { searchService } from './services/searchAPI.js';\n\nclass App extends React.Component {\n  state = {\n    pageQuery: 1,\n    imagesQuery: null,\n    images: [],\n    modalImage: null,\n    loading: false,\n  };\n\n  handleImages = imagesQuery => {\n    if (!imagesQuery) {\n      toast.warn('Enter some query!');\n      return this.setState({ images: [] });\n    } else {\n      this.setState({ pageQuery: 1, imagesQuery });\n    }\n  };\n\n  fetchImages = () => {\n    const { imagesQuery, pageQuery } = this.state;\n\n    this.setState({ loading: true });\n\n    searchService.searchQuery = imagesQuery;\n    searchService\n      .fetchSearch()\n      .then(images => {\n        if (images.hits.length === 0) {\n          toast.error('No images with this query!');\n        }\n        if (pageQuery > 1) {\n          this.setState(prevState => ({\n            images: [...prevState.images, ...images.hits],\n          }));\n        } else {\n          this.setState({ images: images.hits });\n        }\n      })\n      .catch(error => toast.error(error.code))\n      .finally(() => {\n        this.setState({ loading: false });\n      });\n  };\n\n  componentDidUpdate(_, prevState) {\n    const { imagesQuery, pageQuery } = this.state;\n\n    if (prevState.imagesQuery !== imagesQuery) {\n      searchService.resetPage();\n      this.fetchImages();\n    }\n\n    if (prevState.pageQuery !== pageQuery) {\n      this.fetchImages();\n    }\n  }\n\n  loadMore = () => {\n    this.setState(prevState => {\n      return { pageQuery: prevState.pageQuery + 1 };\n    });\n  };\n\n  showModal = modalImage => {\n    this.setState({ modalImage });\n  };\n\n  closeModal = () => {\n    this.setState({ modalImage: null });\n  };\n\n  render() {\n    const { images, modalImage, loading } = this.state;\n\n    return (\n      <>\n        <Searchbar onSubmit={this.handleImages} />\n        <ImageGallery images={images} showModal={this.showModal} />\n        {loading && (\n          <Loader\n            type=\"ThreeDots\"\n            color=\"#00BFFF\"\n            height={80}\n            width={80}\n            style={{ textAlign: 'center' }}\n          />\n        )}\n        {images.length > 0 && <Button loadMoreBtn={this.loadMore} />}\n        {modalImage && (\n          <Modal closeModal={this.closeModal}>\n            <img src={modalImage.largeImageURL} alt={modalImage.tags} />\n          </Modal>\n        )}\n        <ToastContainer position=\"top-right\" autoClose={3000} />\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__25NTP\",\"form\":\"Searchbar_form__1J4_v\",\"formBtn\":\"Searchbar_formBtn__2uq8D\",\"searchIcon\":\"Searchbar_searchIcon__1zEml\",\"formBtnLabel\":\"Searchbar_formBtnLabel__LEwWU\",\"formInput\":\"Searchbar_formInput__1XEJg\"};"],"sourceRoot":""}