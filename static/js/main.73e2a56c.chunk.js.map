{"version":3,"sources":["components/imageGalleryItem/ImageGalleryItem.module.css","components/modal/Modal.module.css","components/button/Button.module.css","components/imageGallery/ImageGallery.module.css","components/button/Button.js","components/imageGalleryItem/ImageGalleryItem.js","components/imageGallery/ImageGallery.js","components/modal/Modal.js","components/searchbar/Searchbar.js","services/searchAPI.js","App.js","index.js","components/searchbar/Searchbar.module.css"],"names":["module","exports","Button","loadMoreBtn","type","className","s","button","onClick","ImageGalleryItem","imageItem","onItemClick","galleryItem","src","webformatURL","alt","tags","imageGalleryItem","ImageGallery","images","showModal","image","imageGallery","map","id","modalRoot","document","getElementById","Modal","closeModal","children","handleEscPressed","useCallback","event","key","console","log","useEffect","window","addEventListener","removeEventListener","createPortal","overlay","target","currentTarget","modal","Searchbar","onSubmit","searchbar","form","preventDefault","value","query","formBtn","Provider","searchIcon","formInput","autoComplete","autoFocus","placeholder","name","SearchAPI","imageType","orientation","safesearch","this","searchQuery","a","fetch","response","json","data","searchService","App","useState","pageQuery","setPageQuery","imagesQuery","setimagesQuery","setImages","modalImage","setModalImage","isLoading","setIsLoading","resetPage","fetchSearch","then","hits","length","toast","error","catch","code","finally","prev","warn","color","height","width","style","textAlign","largeImageURL","position","autoClose","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.73e2a56c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryItem\":\"ImageGalleryItem_galleryItem__BPw5r\",\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__2Fs4f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1VUpz\",\"modal\":\"Modal_modal__25-Y7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__5CS-w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__NKJJB\"};","import s from './Button.module.css';\nimport PropTypes from 'prop-types';\n\nconst Button = ({ loadMoreBtn }) => {\n  return (\n    <button type=\"button\" className={s.button} onClick={loadMoreBtn}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  loadMoreBtn: PropTypes.func,\n};\n\nexport default Button;\n","import s from './ImageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ imageItem, onItemClick }) => {\n  const onImageClick = () => {\n    onItemClick(imageItem);\n  };\n\n  return (\n    <li className={s.galleryItem} onClick={onImageClick}>\n      <img\n        src={imageItem.webformatURL}\n        alt={imageItem.tags}\n        className={s.imageGalleryItem}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string,\n  tags: PropTypes.string,\n  onItemClick: PropTypes.func,\n};\n\nexport default ImageGalleryItem;\n","import ImageGalleryItem from '../imageGalleryItem/ImageGalleryItem';\nimport s from './ImageGallery.module.css';\nimport PropTypes from 'prop-types';\n\nconst ImageGallery = ({ images, showModal }) => {\n  const onItemClick = image => {\n    showModal(image);\n  };\n\n  return (\n    <ul className={s.imageGallery}>\n      {images.map(image => (\n        <ImageGalleryItem\n          key={image.id}\n          imageItem={image}\n          onItemClick={onItemClick}\n        />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.array,\n  showModal: PropTypes.func,\n};\n\nexport default ImageGallery;\n","import React, { useEffect, useCallback } from 'react';\nimport s from './Modal.module.css';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nconst modalRoot = document.getElementById('modal-root');\n\nconst Modal = ({ closeModal, children }) => {\n  const handleOverlayClick = event => {\n    const { target, currentTarget } = event;\n    if (target === currentTarget) {\n      closeModal();\n    }\n  };\n\n  const handleEscPressed = useCallback(\n    event => {\n      if (event.key === 'Escape') {\n        console.log('Escape pressed');\n        closeModal();\n      }\n    },\n    [closeModal],\n  );\n\n  useEffect(() => {\n    // console.log('Add listener');\n    window.addEventListener('keydown', handleEscPressed);\n    return () => {\n      // console.log('Del listener');\n      window.removeEventListener('keydown', handleEscPressed);\n    };\n  }, [handleEscPressed]);\n\n  return createPortal(\n    <div className={s.overlay} onClick={handleOverlayClick}>\n      <div className={s.modal}>{children}</div>\n    </div>,\n    modalRoot,\n  );\n};\n\nModal.propTypes = {\n  closeModal: PropTypes.func,\n  children: PropTypes.node,\n};\n\nexport default Modal;\n","import s from './Searchbar.module.css';\nimport PropTypes from 'prop-types';\n\nimport { FaSearch } from 'react-icons/fa';\nimport { IconContext } from 'react-icons';\n\nconst Searchbar = ({ onSubmit }) => {\n  const handleSubmit = event => {\n    event.preventDefault();\n    const { value } = event.target.query;\n    onSubmit(value);\n  };\n\n  return (\n    <header className={s.searchbar}>\n      <form className={s.form} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={s.formBtn}>\n          <IconContext.Provider value={{ className: `${s.searchIcon}` }}>\n            <FaSearch />\n          </IconContext.Provider>\n        </button>\n\n        <input\n          className={s.formInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          name=\"query\"\n        />\n      </form>\n    </header>\n  );\n};\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func,\n};\n\nexport default Searchbar;\n","class SearchAPI {\n  #baseUrl = 'https://pixabay.com/api/';\n  #privatKey = '24000530-001c810234599b9b4d7fbf89c';\n  #options = {\n    imageType: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  };\n  #page = 1;\n  #perPage = 12;\n\n  constructor() {\n    this.searchQuery = '';\n  }\n\n  async fetchSearch() {\n    const response = await fetch(\n      `${this.#baseUrl}?key=${this.#privatKey}&q=${\n        this.searchQuery\n      }&image_type=${this.#options.imageType}&orientation=${\n        this.#options.orientation\n      }&safesearch=${this.#options.safesearch}&page=${this.#page}&per_page=${\n        this.#perPage\n      }`,\n    );\n\n    const data = await response.json();\n    this.#page += 1;\n\n    return data;\n  }\n\n  resetPage() {\n    this.#page = 1;\n  }\n}\n\nconst searchService = new SearchAPI();\n\nexport { searchService };\n","import React, { useState, useEffect } from 'react';\nimport './App.css';\n\nimport Loader from 'react-loader-spinner';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport Button from './components/button/Button';\nimport ImageGallery from './components/imageGallery/ImageGallery';\nimport Modal from './components/modal/Modal';\nimport Searchbar from './components/searchbar/Searchbar';\n// import initData from './data/Data.json';\nimport { searchService } from './services/searchAPI.js';\n\nconst App = () => {\n  const [pageQuery, setPageQuery] = useState(1);\n  const [imagesQuery, setimagesQuery] = useState(null);\n  const [images, setImages] = useState([]);\n  const [modalImage, setModalImage] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleImages = imagesQuery => {\n    if (!imagesQuery) {\n      toast.warn('Enter some query!');\n      setImages([]);\n      return;\n    } else {\n      setPageQuery(1);\n      setimagesQuery(imagesQuery);\n    }\n  };\n\n  const showModal = modalImage => {\n    setModalImage(modalImage);\n  };\n\n  const closeModal = () => {\n    setModalImage(null);\n  };\n\n  const loadMore = () => {\n    setPageQuery(prev => prev + 1);\n  };\n\n  //if imagesQuery change\n  useEffect(() => {\n    if (!imagesQuery) {\n      return;\n    }\n    searchService.searchQuery = imagesQuery;\n    searchService.resetPage();\n    setIsLoading(true);\n    searchService\n      .fetchSearch()\n      .then(images => {\n        if (images.hits.length === 0) {\n          toast.error('No images with this query!');\n        }\n        setImages(images.hits);\n      })\n      .catch(error => toast.error(error.code))\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }, [imagesQuery]);\n\n  //if pageQuery change\n  useEffect(() => {\n    if (pageQuery === 1) {\n      return;\n    }\n\n    setIsLoading(true);\n    searchService\n      .fetchSearch()\n      .then(images => {\n        if (images.hits.length === 0) {\n          toast.error('No more images!');\n        }\n        setImages(prev => [...prev, ...images.hits]);\n      })\n      .catch(error => toast.error(error.code))\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }, [pageQuery]);\n\n  return (\n    <>\n      <Searchbar onSubmit={handleImages} />\n      <ImageGallery images={images} showModal={showModal} />\n      {isLoading && (\n        <Loader\n          type=\"ThreeDots\"\n          color=\"#00BFFF\"\n          height={80}\n          width={80}\n          style={{ textAlign: 'center' }}\n        />\n      )}\n      {images.length > 0 && <Button loadMoreBtn={loadMore} />}\n      {modalImage && (\n        <Modal closeModal={closeModal}>\n          <img src={modalImage.largeImageURL} alt={modalImage.tags} />\n        </Modal>\n      )}\n      <ToastContainer position=\"top-right\" autoClose={3000} />\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__25NTP\",\"form\":\"Searchbar_form__1J4_v\",\"formBtn\":\"Searchbar_formBtn__2uq8D\",\"searchIcon\":\"Searchbar_searchIcon__1zEml\",\"formBtnLabel\":\"Searchbar_formBtnLabel__LEwWU\",\"formInput\":\"Searchbar_formInput__1XEJg\"};"],"sourceRoot":""}